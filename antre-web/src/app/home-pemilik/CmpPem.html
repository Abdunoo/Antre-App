<div class="h-screen w-screen firstbg">
	<div class="h-full w-full relative flex-grow">
		<div class="absolute inset-0 overflow-auto bottom-20 space-y-4">
			<div class="p-4 flex justify-between items-center">
				<img *ngIf="!tenant?.imageUrl" src="assets/image 1.png" class="rounded-full h-10 w-10 border border-teal-400"
					alt="">
				<img *ngIf="tenant?.imageUrl" [src]="tenant?.imageUrl" class="rounded-full h-10 w-10 border border-teal-400"
					alt="">
				<div class="flex space-x-2">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
						stroke="currentColor" class="w-6 h-6 text-teal-400">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
						<path stroke-linecap="round" stroke-linejoin="round"
							d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
					</svg>
					<span class="text-white">{{tenant?.nama}}</span>
				</div>
				<div>
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
						stroke="currentColor" class="w-6 h-6 text-white">
						<path stroke-linecap="round" stroke-linejoin="round"
							d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" />
					</svg>
				</div>
			</div>
			<div class="h-auto w-full space-y-2 mb-4">
				<cmp-pem-carousel></cmp-pem-carousel>
				<div class="flex justify-center space-x-2">
					<p class="h-2 w-2 rounded-full secondbg"></p>
					<p class="h-2 w-2 rounded-full secondbg"></p>
					<p class="h-2 w-2 rounded-full secondbg"></p>
					<p class="h-2 w-2 rounded-full secondbg"></p>
				</div>
			</div>
			<div class="flex flex-col justify-center  space-y-4">
				<div class="px-6 h-full w-full flex justify-center">
					<div
						class="h-full w-full flex justify-between items-center border-2 border-teal-400 secondbg p-1 rounded-lg">
						<button [disabled]="tenant?.statusToko === 'tutup' || antreNumber === 0" (click)="prevNumber()"
							class="rounded-lg bg-teal-400 text-white py-2 px-9">Kembali</button>
						<button [disabled]="tenant?.statusToko === 'tutup'" (click)="nextNumber()"
							class="rounded-lg bg-teal-400 text-white py-2 px-10">Lanjut</button>
					</div>
				</div>
				<div class="ml-4 text-white text-2xl flex justify-normal">Hari Ini</div>
				<div class="px-6 h-full w-full flex justify-center space-x-2">
					<div class=" h-full w-full rounded-md secondbg p-2">
						<div
							class="h-full w-full rounded-md border-2 border-teal-400 flex flex-col justify-center text-center text-white p-1 space-y-4">
							<div>Jumlah Antrean</div>
							<div>{{tenant?.jumlahAntrean}}</div>
						</div>
					</div>
					<div *ngIf="maxNumber" class=" h-full w-full rounded-md secondbg p-2">
						<div
							class="h-full w-full rounded-md border-2 border-teal-400 flex flex-col justify-center text-center text-white p-1 space-y-4">
							<div>Sisa Antrean</div>
							<div>15</div>
						</div>
					</div>
				</div>
			</div>
			<div class=" flex items-center justify-center ">
				<div class="h-full w-full rounded-lg shadow p-6 md:p-6">
					<!-- <div id="area-chart"></div> -->
					<cmp-chart></cmp-chart>
				</div>
			</div>
		</div>
		<div *ngIf="showPengaturan" class="fixed bottom-16 h-3/5 w-full secondbg rounded-t-3xl pb-4 ">
			<div class="h-full w-full relative flex-grow">
				<div (click)="showPengaturan = !showPengaturan" class="flex justify-center items-center pt-4">
					<p class="border w-20 border-teal-400"></p>
				</div>
				<div (click)="showPengaturan = !showPengaturan"
					class="flex justify-center items-center py-2 border-b border-teal-400 text-white">
					<span>{{tenant?.nama}}</span>
				</div>
				<div class="absolute inset-0 overflow-y-auto mt-20">
					<div class=" w-full pl-5 h-40 flex space-x-2">
						<div class="h-full w-full mt-2">
							<img *ngIf="!selectedImage && !editImage" [src]="tenant?.imageUrl" alt=""
								class="h-full w-full object-contain">
							<img *ngIf="selectedImage" [src]="selectedImage" alt="" class="h-full w-full object-contain">
						</div>
						<form *ngIf="editImage" action="#"
							class="relative w-4/5 h-32 max-w-xs mb-10 bg-white rounded-lg shadow-inner">
							<input type="file" id="file-upload" class="hidden" (change)="onFileSelected($event)">
							<label for="file-upload"
								class="z-20 flex flex-col-reverse items-center justify-center w-full h-full cursor-pointer">
								<p class="z-10 text-xs font-light text-center text-gray-500">Drag & Drop your files here</p>
								<svg class="z-10 w-8 h-8 text-indigo-400" fill="currentColor" viewBox="0 0 20 20"
									xmlns="http://www.w3.org/2000/svg">
									<path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"></path>
								</svg>
							</label>
						</form>
						<div class="text-teal-400 ">
							<svg (click)="editImage = !editImage" (click)="selectedImage = null"
								xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
								stroke="currentColor" class="w-5 h-5 absolute right-0">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
							</svg>
						</div>
					</div>
					<div class="flex flex-col space-y-4 py-4">
						<div class="text-white px-8 flex">
							<span>Alamat : </span>
							<span *ngIf="!editAlamat">{{tenant.alamat}}</span>
							<div *ngIf="editAlamat">
								<input [(ngModel)]="tenant.alamat" type="text" id="alamat" name="alamat"
									class="form-input bg-transparent px-3 block w-full leading-5 rounded-md transition duration-150 ease-in-out sm:text-sm sm:leading-5" />
							</div>
							<svg *ngIf="!editAlamat" (click)="editAlamat = !editAlamat" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
								class="w-5 h-5 text-teal-400 right-0 absolute">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
							</svg>
							<svg *ngIf="editAlamat" (click)="updateAlamat(tenant.alamat)" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
								class="w-6 h-6 text-teal-400 right-0 absolute">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
						</div>
						<div class="flex justify-between items-center px-8 text-lg space-x-4">
							<div class="text-white space-y-2">
								<span>Jam Buka</span>
								<div class="rounded-lg bg-teal-400 px-1 text-center">
									<div class="">
										<span *ngIf="tenant?.buka && !editTime">{{tenant?.buka}}</span>
										<div *ngIf="editTime" class="mt-1 relative rounded-md shadow-sm">
											<input [(ngModel)]="tenant.buka" type="text" id="timebuka" name="time"
												class="form-input bg-transparent py-2 px-3 block w-full leading-5 rounded-md transition duration-150 ease-in-out sm:text-sm sm:leading-5" />
										</div>
									</div>
								</div>
							</div>
							<div class="text-white space-y-2">
								<span>Jam Tutup</span>
								<div class="rounded-lg bg-teal-400 px-1 text-center">
									<div class="">
										<span *ngIf="tenant?.tutup && !editTime">{{tenant?.tutup}}</span>
										<div *ngIf="editTime" class="mt-1 relative rounded-md shadow-sm">
											<input [(ngModel)]="tenant.tutup" type="text" id="timetutup" name="time"
												class="form-input bg-transparent py-2 px-3 block w-full leading-5 rounded-md transition duration-150 ease-in-out sm:text-sm sm:leading-5" />
										</div>
									</div>
								</div>
							</div>
							<svg *ngIf="!editTime" (click)="editTime = !editTime" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
								class="w-5 h-5 text-teal-400 right-0 absolute">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
							</svg>
							<svg *ngIf="editTime" (click)="updateBukaDanTutup(tenant?.buka, tenant?.tutup)"
								xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
								stroke="currentColor" class="w-6 h-6 text-teal-400 right-0 absolute">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
						</div>
						<div class="px-2 rounded-lg border border-teal-400 flex py-4 justify-between mx-8">
							<div class="text-xl text-white">
								<span>Max Antre Perhari</span>
							</div>
							<div class="text-xl text-white">
								<span *ngIf="!editMaxAntre">{{tenant?.maxAntre}}</span>
								<span *ngIf="editMaxAntre">
									<input [(ngModel)]="tenant.maxAntre" type="number" id="maxantre" name="maxantre"
										class="form-input bg-transparent py-2 block w-24 h-7 border border-teal-400 leading-5 rounded-md transition duration-150 ease-in-out sm:text-sm sm:leading-5" />
								</span>
							</div>
							<svg *ngIf="!editMaxAntre" (click)="editMaxAntre = !editMaxAntre"
								xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
								stroke="currentColor" class="w-5 h-5 text-teal-400 right-0 absolute">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
							</svg>
							<svg *ngIf="editMaxAntre" (click)="updateMaxAntre()" (click)="editMaxAntre = !editMaxAntre"
								xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
								stroke="currentColor" class="w-6 h-6 text-teal-400 right-0 absolute">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
							</svg>
							<!-- <div *ngIf="!maxNumber" (click)="maxNumber = !maxNumber"
								class="h-6 w-14 rounded-2xl bg-white flex justify-start">
								<p class="h-6 w-6 rounded-full bg-gray-400"></p>
							</div>
							<div *ngIf="maxNumber" (click)="maxNumber = !maxNumber"
								class="h-6 w-14 rounded-2xl bg-white flex justify-end">
								<p class="h-6 w-6 rounded-full bg-teal-400"></p>
							</div> -->
						</div>
					</div>
				</div>
			</div>
		</div>
		<div *ngIf="showRiwayat" class="fixed bottom-16 h-3/5 w-full secondbg rounded-t-3xl py-4">
			<div (click)="showRiwayat = !showRiwayat" class="flex justify-center items-center">
				<p class="border w-20 border-teal-400"></p>
			</div>
			<div (click)="showRiwayat = !showRiwayat"
				class="flex justify-center items-center py-2 border-b border-teal-400 text-white">
				<span>Riwayat Pelanggan</span>
			</div>
			<div class="h-full w-full px-4 pt-4">
				<div class="flex justify-start text-white text-lg py-2">
					<span>Hari Ini</span>
				</div>
				<div class="relative flex-grow h-full w-full">
					<div class="h-full w-full flex flex-col absolute inset-0 overflow-auto text-white pb-24">
						<div *ngFor="let his of history" class="flex flex-col items-center justify-between">
							<div
								class="border border-teal-400 rounded-lg px-2 py-4 h-full w-full flex justify-between items-center">
								<span>{{his.nama}}</span>
								<span class="border-l border-teal-400 px-4">{{his.nomor}}</span>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
		<div *ngIf="showQRcode" class="fixed bottom-20 h-3/5 w-full secondbg rounded-t-3xl pb-4 ">
			<div class="h-full w-full relative flex-grow">
				<div (click)="showQRcode = !showQRcode" class="flex justify-center items-center pt-2">
					<p class="border w-20 border-teal-400"></p>
				</div>
				<div (click)="showQRcode = !showQRcode"
					class="flex justify-center items-center py-2 border-b border-teal-400 text-white">
					<span>Barcode Anda</span>
				</div>
				<div class="h-full w-full absolute inset-0 top-14 overflow-auto">
					<div class="flex justify-center items-center text-white text-base py-4">
						<span>Barcode untuk ambil nomor antre</span>
					</div>
					<div class="mx-10 p-6 bg-teal-400 rounded-lg space-y-2 flex justify-center items-center">
						<div class="h-full w-full text-xl text-white flex flex-col">
							<div class="h-full w-full flex justify-center items-center">
								<qrcode id="qrcode" [qrdata]="tenant.linkTenant" class="h-full w-full object-contain"
									[errorCorrectionLevel]="'M'">
								</qrcode>
							</div>
							<div class="w-full h-full flex justify-between items-center">
								<p>SCAN HERE</p>
								<p (click)="downloadQRCode()">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
										stroke="currentColor" class="w-6 h-6">
										<path stroke-linecap="round" stroke-linejoin="round"
											d="M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
									</svg>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="fixed bottom-0 right-0 left-0 rounded-lg bg-gradient-to-br from-teal-800 to-teal-400 text-white p-4">
		<div class="container mx-auto flex justify-between items-center px-4">
			<div class="text-teal-200 flex flex-col items-center">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
					stroke="currentColor" class="w-6 h-6">
					<path stroke-linecap="round" stroke-linejoin="round"
						d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
				</svg>
				<span>Home</span>
			</div>
			<div class="text-teal-200 flex flex-col items-center" (click)="showPengaturan = !showPengaturan"
				(click)="showRiwayat = false">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
					stroke="currentColor" class="w-6 h-6">
					<path stroke-linecap="round" stroke-linejoin="round"
						d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" />
				</svg>
				<span>Pengaturan</span>
			</div>
			<div (click)="showRiwayat = !showRiwayat" (click)="getMyHistory()"
				class="text-teal-200 flex flex-col items-center">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
					stroke="currentColor" class="w-6 h-6">
					<path stroke-linecap="round" stroke-linejoin="round"
						d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3" />
				</svg>
				<span>Riwayat</span>
			</div>
		</div>
	</div>
</div>